<!--
    <div class="row">
        <div class="col-md-12" >
        -->
        <div *ngIf="completado">
            <div class="loader">Cargando...</div>
        </div>


        <div *ngIf="tienePermisoView">


            <div *ngIf="!panelPermisosSelected">



                <ul *ngIf="!panelEditarSelected" class="nav nav-tabs">
                    <li class="active">
                        <a (click)="obtenerConceptosMovimento()" data-toggle="tab" href="#buscarKardex">
                            <i class="fa fa-search fa-fw ic-dfa"></i>Buscar</a>
                    </li>
                    <li>
                        <a (click)="obtenerConceptosMovimentoRegistro()" data-toggle="tab" href="#nuevoKardex">
                            <i class="fa fa-plus fa-fw ic-dfa"></i>Nuevo</a>
                    </li>
                    <!-- <li>
                        <a data-toggle="tab" href="#nuevoKardexMultiple">
                            <i class="fa fa-plus fa-fw ic-dfa"></i>Registro Multiple Traslados</a>
                    </li> -->
                </ul>
                <div *ngIf="!panelEditarSelected" class="tab-content">

                    <div id="buscarKardex" class="tab-pane fade in active">

                        <div class="login-panel panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Busqueda de Traslados Internos</h3>
                            </div>
                            <div class="panel-body">



                                <div class="col-md-12 col-xd-2">

                                    <div class="col-md-3 col-xd-2">
                                        <div class="form-group">
                                            <label>Fecha Inicio: </label>
                                            <input class="form-control" required type="date" [(ngModel)]="fecha_inicio_selected" name="txtFechaInicio">
                                        </div>
                                    </div>

                                    <div class="col-md-3 col-xd-2">
                                        <div class="form-group">
                                            <label>Fecha Fin: </label>
                                            <input class="form-control" required type="date" [(ngModel)]="fecha_fin_selected" name="txtFechafin">
                                        </div>
                                    </div>

                                </div>



                                <div class="col-md-12 col-xd-2">

                                    <div class="col-md-2">
                                        <label> Accion</label>
                                        <button (click)="buscar()" class="btn btn-primary btn-block">
                                            <i class="fa fa-search fa-fw ic-dfa"></i>buscar</button>
                                    </div>

                                    <div class="col-md-2">
                                        <label> Accion</label>
                                        <button (click)="limpiar()" class="btn btn-primary btn-block">
                                            <i class="fa fa-trash fa-fw ic-dfa"></i>Limpiar</button>
                                    </div>


                                </div>

                            </div>
                        </div>





                        <div *ngIf="panelListaBeanSelected" class="login-panel panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Lista de Traslados Internos</h3>
                            </div>
                            <div class="panel-body">



                                <div class="row">
                                    <div class="col-md-12">

                                        <div class="row bg-teal tabla-cabecera-botones">
                                            <div class="col-md-12">
                                                <h5>EXISTEN :{{totalLista}} EN TOTAL</h5>
                                            </div>
                                            <div class="col-md-2">
                                                <button (click)="paginaAnterior()" class="btn btn-primary btn-block">
                                                    <i class="fa fa-backward fa-fw ic-dfa"></i>
                                                </button>
                                            </div>
                                            <div class="col-md-2">
                                                <label>Del {{inicio}} al {{fin}}</label>
                                            </div>

                                            <div class="col-md-2">
                                                <button (click)="paginaSiguiente()" class="btn btn-primary btn-block">
                                                    <i class="fa fa-forward fa-fw ic-dfa"></i>
                                                </button>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="col-md-5">
                                                    <label> Tamaño Pagina</label>

                                                </div>
                                                <div class="col-md-4">
                                                    <select name="txtTamPagina" class="form-control" [(ngModel)]="tamPagina">
                                                        <option [ngValue]="10">10</option>
                                                        <option [ngValue]="15">15</option>
                                                        <option [ngValue]="20">20</option>
                                                        <option [ngValue]="30">30</option>
                                                        <option [ngValue]="100">100</option>
                                                        <option [ngValue]="500">500</option>
                                                        <option [ngValue]="1000">1000</option>
                                                    </select>
                                                </div>

                                            </div>
                                        </div>

                                        <div class=" table-responsive tabla-dfa">

                                            <table class="table table-condensed">
                                                <thead>
                                                    <tr class="bg-teal tam-cabecera">
                                                        <th>N°</th>
                                                        <th>ACCION</th>
                                                        <!--<th>ACCION</th>-->
<!-- 
                                                        <th>ESTADO</th>
                                                        
                                                        <th>TIPO MOVIMIENTO</th> -->
                                                       <th>FECHA</th>
                                                        <th>CONCEPTO MOVIMIENTO</th>
                                                        <!-- <th>ID COMPRA/VENTA</th>
                                                        <th>ID PRODUCTO</th> -->
                                                        <th>NOMBRE PRODUCTO</th>
                                                        <th>CANTIDAD</th>
                                                        <th>PRECIO UNITARIO</th>
                                                        <th>PRECIO TOTAL</th>
                                                        <!-- <th>TIPO MONEDA</th> -->
                                                        <th>DESCRIPCION</th>
                                                        <!-- <th>ALMACEN ORIGEN</th>
                                                        <th>DIRECCION ALMACEN ORIGEN</th> -->
                                                         <th>ALMACEN ORIGEN</th> 
                                                        <!-- <th>DIRECCION LOCAL ORIGEN</th> -->

                                                        <!-- <th>ALMACEN DESTINO</th>
                                                        <th>DIRECCION ALMACEN DESTINO</th> -->
                                                        <th>ALMACEN DESTINO</th>
                                                        <!-- <th>DIRECCION LOCAL DESTINO</th> -->
                                                        <!-- <th>EMPLEADO ELIMINADOR</th> -->

                                                    </tr>
                                                </thead>

                                                <tbody>
                                                    <tr *ngFor="let obj of listaKardex;let j = index" class="bg-cyan tam-cuerpo">
                                                        <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{inicio+j}}</td>
                                                        <td class="{{obj.estilo}}" *ngIf="obj.estado==1">
                                                            <button (click)="eliminar(obj)" class="btn btn-primary btn-block">
                                                                <i class="fa fa-trash fa-fw ic-dfa"></i>Eliminar
                                                            </button>
                                                        </td>
                                                        <td class="{{obj.estilo}}" *ngIf="obj.estado==0">
                                                            <button disabled (click)="eliminar(obj)" class="btn btn-primary btn-block">
                                                                <i class="fa fa-trash fa-fw ic-dfa"></i>Eliminar
                                                            </button>
                                                        </td>
                                                        <!--
                                                            <td>
                                                                <button (click)="abrirPanelEditar(obj)" class="btn btn-primary btn-block">
                                                                    <i class="fa fa-plus-square fa-fw ic-dfa"></i>Editar
                                                                </button>
                                                            </td>-->


                                                        <!-- <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.estado_descripcion}}</td>
                                                        
                                                        <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.tipo_movimiento}}</td> -->
                                                        <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.fecha}}</td>
                                                        <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.concepto_movimiento}}</td>
                                                        <!-- <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.id_compra_venta}}</td>
                                                        <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.id_producto}}</td> -->
                                                        <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.nombre_producto}}</td>
                                                        <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.cantidad}}</td>
                                                        <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.simbolo}}{{obj.precio_unitario}}</td>
                                                        <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.simbolo}}{{obj.precio_total}}</td>
                                                        <!-- <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.tipo_moneda}}</td> -->
                                                        <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.descripcion}}</td>
                                                        <!-- <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.nombre_almacen_origen}}</td> -->
                                                        <!-- <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.direccion_almacen_origen}}</td> -->
                                                        <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.nombre_local_origen}}</td>
                                                        <!-- <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.direccion_local_origen}}</td> -->

                                                        <!-- <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.nombre_almacen_destino}}</td> -->
                                                        <!-- <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.direccion_almacen_destino}}</td> -->
                                                        <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.nombre_local_destino}}</td>
                                                        <!-- <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.direccion_local_destino}}</td> -->
                                                        <!-- <td class="{{obj.estilo}} {{obj.estado==1?'':'estado-eliminado'}}">{{obj.nombre_empleado_eliminado}}</td> -->

                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>



                            </div>
                        </div>

                    </div>

                    <div id="nuevoKardex" class="tab-pane fade ">

                        <div class="login-panel panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Registro de Traslados Internos</h3>
                            </div>
                            <div class="panel-body">

                                <div class="col-md-12 col-xd-2">

                                    <div class="col-md-3 col-xd-12">
                                        <div class="form-group">
                                            <label>Tipo Movimiento: </label>
                                            <select class="form-control" [(ngModel)]="tipoMovimientoSelected">
                                                <option *ngFor="let obj of tiposMovimiento; let i = index" [ngValue]="obj">{{obj.nombre}} </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-3 col-xd-12">
                                        <div class="form-group">
                                            <label>Concepto Movimiento: </label>
                                            <select class="form-control" [(ngModel)]="conceptoMovimientoSelected">
                                                <option *ngFor="let obj of conceptosMovimiento; let i = index" [ngValue]="obj">{{obj.nombre}} </option>
                                            </select>
                                        </div>
                                    </div>


                                    <div class="col-md-3 col-xd-2">
                                        <div class="form-group">
                                            <label>Almacen Origen: </label>
                                            <select class="form-control" required [(ngModel)]="localOrigenSelected" name="cbLocales" (ngModelChange)="mostrarAlmacenOrigen(localOrigenSelected)">
                                                <option *ngFor="let lo of locales; let i = index" [ngValue]="lo">{{lo.nombre}} </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-3 col-xd-2">
                                        <div class="form-group">
                                            <label>Modulo Origen: </label>
                                            <select class="form-control" required [(ngModel)]="almacenOrigenSelected" name="cbAlmacenes">
                                                <option *ngFor="let al of almacenesOrigen; let i = index" [ngValue]="al">{{al.nombre}} </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-3 col-xd-2">
                                        <div class="form-group">
                                            <label>Almacen Destino: </label>
                                            <select class="form-control" required [(ngModel)]="localDestinoSelected" name="cbLocales" (ngModelChange)="mostrarAlmacenDestino(localDestinoSelected)">
                                                <option *ngFor="let lo of locales; let i = index" [ngValue]="lo">{{lo.nombre}} </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-3 col-xd-2">
                                        <div class="form-group">
                                            <label>Modulo Destino: </label>
                                            <select class="form-control" required [(ngModel)]="almacenDestinoSelected" name="cbAlmacenes">
                                                <option *ngFor="let al of almacenesDestino; let i = index" [ngValue]="al">{{al.nombre}} </option>
                                            </select>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-md-12">
                                    <div class="col-md-3">
                                        <label> Accion</label>
                                        <button (click)="registrar()" class="btn btn-primary btn-block">
                                            <i class="fa fa-save fa-fw ic-dfa"></i>Guardar</button>
                                    </div>


                                    <div class="col-md-3">
                                        <label> Accion</label>
                                        <button (click)="limpiar()" class="btn btn-primary btn-block">
                                            <i class="fa fa-trash fa-fw ic-dfa"></i>Limpiar</button>
                                    </div>

                                    <!-- <div class="col-md-3">
                                        <label> Accion</label>
                                        <button (click)="establecer_transaldo()" class="btn btn-primary btn-block">
                                            <i class="fa fa-eye fa-fw ic-dfa"></i>Establecer Traslado</button>
                                    </div> -->

                                </div>



                            </div>
                        </div>


                        <!-- <div class="login-panel panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Lista de Productos a Registrar en Traslados internos</h3>
                            </div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-md-3 col-xd-12">
                                        <div class="input-group-dfa">
                                            <span class="input-group-addon-dfa">
                                                <i class="fa fa-money ic-dfa"></i>TOTAL: </span>
                                            <span class="form-control">
                                                <span>{{simboloMonedaSelected}}{{montoTotalSelected}}</span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-xd-12">
                                        <select disabled class="form-control" [(ngModel)]="tipoMonedaSelected" (ngModelChange)="obtenerTipoMonedaGeneral(tipoMonedaSelected);">
                                            <option *ngFor="let tm of tiposMoneda; let i = index" [ngValue]="tm">{{tm.nombre}} </option>
                                        </select>
                                    </div>
                                </div>

                                <div class="row">

                                    <div class="col-md-12">


                                        <div class="row bg-teal tabla-cabecera-botones">
                                            <div class="col-md-2">
                                                <label>EXISTEN :
                                                    <span *ngIf="listaProductos!=null">{{listaProductos.length}}</span> EN TOTAL</label>
                                            </div>
                                            <div class="col-md-1">
                                                <button (click)="paginaAnterior()" class="btn btn-primary btn-block">
                                                    <i class="fa fa-backward fa-fw ic-dfa"></i>
                                                </button>
                                            </div>
                                            <div class="col-md-2">
                                                <label>Del {{inicio}} al {{fin}}</label>
                                            </div>

                                            <div class="col-md-1">
                                                <button (click)="paginaSiguiente()" class="btn btn-primary btn-block">
                                                    <i class="fa fa-forward fa-fw ic-dfa"></i>
                                                </button>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="col-md-5">
                                                    <label> Tamaño Pagina</label>
                                                </div>
                                                <div class="col-md-4">
                                                    <select name="txtTamPagina" class="form-control" [(ngModel)]="tamPagina">
                                                        <option [ngValue]="10">10</option>
                                                        <option [ngValue]="15">15</option>
                                                        <option [ngValue]="20">20</option>
                                                        <option [ngValue]="30">30</option>
                                                        <option [ngValue]="100">100</option>
                                                        <option [ngValue]="500">500</option>
                                                        <option [ngValue]="1000">1000</option>
                                                    </select>
                                                </div>

                                            </div>

                                            <div class="col-md-2">
                                                <button (click)="abrirModalCatalogoVenta()" class="btn btn-primary btn-block">
                                                    <i class="fa fa-plus fa-fw ic-dfa"></i>
                                                    <i class="fa fa-shopping-cart fa-fw ic-dfa"></i>Agregar</button>
                                            </div>
                                        </div>


                                        <div class=" table-responsive tabla-dfa">
                                            <table class="table table-condensed">
                                                <thead>
                                                    <tr class="bg-teal tam-cabecera">
                                                        <th>N°</th>
                                                        <th>ACCION</th>
                                                        <th>NOMBRE</th>
                                                        <th>PRECIO FINAL</th>
                                                        <th>PRECIO VENTA</th>
                                                        <th>TIPO MONEDA</th>
                                                        <th>CANTIDAD</th>
                                                        <th>UNIDAD MEDIDA</th>
    
                                                        <th>SUB GRUPO</th>
                                                        <th>PROVEEDOR</th>
                                                        <th>GRUPO</th>
                                                        <th>ALMACEN</th>
                                                     
                                                    </tr>
                                                </thead>

                                                <tbody>
                                                    <tr *ngFor="let pro of listaProductos;let j = index" class="bg-cyan tam-cuerpo">
                                                        <td>{{inicio+j}}</td>
                                                        <td>
                                                            <button (click)="eliminarCarrito(j)" class="btn btn-primary btn-block">
                                                                <i class="fa fa-trash fa-fw ic-dfa"></i>Eliminar
                                                            </button>
                                                        </td>
                                                         <td>{{pro.nombre}}</td>
                                                        <td class="color5">{{pro.tipo_moneda.simbolo}}{{pro.precio}}</td>
                                                          <td>
                                                            <input (keyup)="validarPrecio(pro,$event)" (change)="sumarTotalProductos()" type="number" [(ngModel)]="pro.precio_venta"
                                                                name="txtPrecioVenta">
                                                        </td>
                                                        <td>
                                                            {{pro.tipo_moneda.nombre}}
                                                           </td>
                                                 
                                                        <td>
                                                            <input (change)="sumarTotalProductos()" type="number" [(ngModel)]="pro.cantidad" name="txtCantiTable">
                                                        </td>
                                                        <td>
                                                            <select [(ngModel)]="pro.id_unidad_medida">
                                                                <option *ngFor="let uni of unidades_medida; let i = index" [value]="uni.id_unidad_medida">{{uni.nombre}} </option>
                                                            </select>
                                                        </td>
                                                           <td>{{pro.nombre_tipo_producto}}</td>
                                                         <td>{{pro.nombre_proveedor}}</td>
                                                        <td>{{pro.nombre_aplicacion}}</td>
                                                        <td>{{pro.nombre_local}}</td>
                                                       </tr>
                                                </tbody>
                                            </table>
                                        </div>


                                    </div>
                                </div>



                            </div>
                        </div> -->
                        <div class="login-panel panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Lista de Productos a Vender</h3>
                            </div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-md-4 col-xd-12">
                                        <div class="input-group-dfa" style="margin: 5px;">
                                            <span class="input-group-addon-dfa">
                                                <i class="fa fa-money ic-dfa m-2"></i>TOTAL:{{simboloMonedaSelected}} </span>
                                           
                                          
                                                   <input class="form-control" [(ngModel)]="montoTotalSelected" />
                                       
                                        
                                          
                        
                                        </div>
                                    </div>
                        
                                    <div class="col-md-4 col-xd-12">
                                        <div class="input-group-dfa" style="margin: 5px;">
                                            <span class="input-group-addon-dfa">
                                                <i class="fa fa-money ic-dfa"></i>SUB TOTAL:{{simboloMonedaSelected}}
                                            </span>
                                            <span class="form-control">
                                                {{subTotalSelected}}
                                            </span>
                                        </div>
                                    </div>
                        
                                    <div class="col-md-4 col-xd-12">
                                        <div class="input-group-dfa" style="margin: 5px;">
                                            <span class="input-group-addon-dfa">
                                                <i class="fa fa-money ic-dfa"></i>IGV:{{simboloMonedaSelected}}
                                            </span>
                                            <span class="form-control">
                                                {{igvSelected}}
                                            </span>
                                        </div>
                                    </div>
                                  
                                    <div class="col-md-3 col-xd-12" *ngIf="!ActiveMoneda">
                                        <select class="form-control" [(ngModel)]="tipoMonedaSelected" 
                                            (ngModelChange)="obtenerTipoMonedaGeneral(tipoMonedaSelected);" style="margin: 5px;">
                                            <option *ngFor="let tm of tiposMoneda; let i = index" [ngValue]="tm">{{tm.nombre}}
                                            </option>
                                        </select>
                                    </div>
                             
                        
                                    <!-- <div class="col-md-3 col-xd-12">
                                        <select class="form-control" [(ngModel)]="almacenUsuarioSelected" style="margin: 5px;">
                                            <option *ngFor="let al of almacenesUsuario; let i = index" [ngValue]="al">{{al.nombre}}
                                            </option>
                                        </select>
                                    </div> -->
                                    
                                    <div class="col-md-4 col-xd-6">
                                        <div class="form-group" style="margin: 5px;">
                                            <label>Inc. Igv</label>
                                            <input type="checkbox" [(ngModel)]="incluyeIgvSelected" (ngModelChange)="calcularIgv();">
                                        </div>
                                    </div>
                                </div>
                        
                                <div class="row">
                        
                                    <div class="col-md-12">
                                      
                        
                                        <div class="row bg-teal tabla-cabecera-botones">
                        
                                            <div class="col-md-3 col-xd-3">
                                                <div class="form-group">
                                                    <label>Cantidad Celdas: </label>
                                                    <input class="form-control" required placeholder="23" type="text"
                                                        [(ngModel)]="cantidadCeldas" name="txtCantidadCeldas">
                                                </div>
                                            </div>
                                            
                                                <div class="col-md-2 col-xd-2">
                                                    <div class="form-group">
                                                        <label>Accion: </label>
                                                  
                                                          <button (click)="agregarProductoMultiple(cantidadCeldas);"
                                                            class="btn btn-primary btn-block">
                                                            <i class="fa fa-plus fa-fw ic-dfa"></i>Agregar Filas
                                                        </button>   
                                                    
                                                       
                                                    </div>
                                                </div>
                        
                                          
                                           
                                       
                        
                        
                                        </div>
                        
                                        <div class=" table-responsive tabla-dfa">
                                            <table class="table table-condensed">
                                                <thead>
                                                    <tr class="bg-teal tam-cabecera">
                                                        <th>N°</th>         
                                                        <th>ACCION</th>            
                                                        <th>NOMBRE</th>
                                                        <th>CANTIDAD</th>
                                                        <th>PRECIO VENTA</th>
                                                        <th>TOTAL</th>               
                                                        <th>SUB GRUPO</th>
                                                        
                                                    </tr>
                                                </thead>
                        
                                                <tbody>
                                                    <tr *ngFor="let pro of listaProductos;let j = index" class="bg-cyan tam-cuerpo">
                                                        <td>{{inicio+j}}</td>
                                                       
                                                        <td>
                                                            <div class="btn-toolbar" style="margin-left: 9px; width:100px;"  role="toolbar">
                                                                <div class="btn-group">
                                                              
                        
                                                                  
                                                                        <button type="button" (click)="eliminarCarrito(j)" class="btn btn-primary"
                                                                           data-toggle="tooltip" data-placement="top" title="Eliminar Lista">
                                                                           <i class="fa fa-trash fa-fw ic-dfa"></i>
                                                                       </button>
                                                                   
                                                                   
                                                                      <button type="button" (click)="verStock(pro)" class="btn btn-primary"
                                                                        data-toggle="tooltip" data-placement="top" title="Ver Stock">
                                                                        <i class="fa fa-eye fa-fw ic-dfa"></i>
                                                                    </button>  
                                                                   
                        
                                                                
                        
                                                                   <!-- <button type="button" (click)="verUltimasVentas(pro,j)"
                                                                        class="btn btn-primary" data-toggle="tooltip" data-placement="top"
                                                                        title="Ver Ultimas Ventas">
                                                                        <i class="fa fa-list-ol fa-fw ic-dfa"></i>
                                                                    </button>  -->
                                                                </div>
                        
                                                            </div>
                        
                        
                        
                                                        </td>
                                                      
                        
                                                        <td style="width:500px;">
                                                            
                                                             <div class="col-md-5 col-xd-5">
                                                                <div class="form-group">
                        
                                                                  
                                                                        <input class="caja-entera"  style="width: 500px;" id="{{'tbCompracelda'+j}}" required type="text"
                                                                        [(ngModel)]="pro.nombre"
                                                                        (keypress)="teclaKeyPressAutocomplete($event,j)"
                                                                        (keyup)="teclaKeyUpAutocomplete($event,j)"
                                                                        (keydown)="teclaKeyDownAutocomplete($event,j)">                                 
                                                                 
                                                                  
                        
                                                               
                        
                        
                                                                    <ul style="width: 500px; font-size: 15px" id="{{'tbListaPro'+j}}" class="lista-diego2"
                                                                        *ngIf="pro.lista_autocompletado!=null">
                                                                        <li *ngFor="let ob of pro.lista_autocompletado">
                                                                            <a (click)="elegirProducto(ob,j)">
                                                                                {{ ob.nombre }} - {{ob.nombre_marca}} - <span style="color: red">S./{{ob.porc4}}</span>
                                                                            </a>
                                                                        </li>
                                                                    </ul>
                                                                 
                                                                </div>
                                                            </div>   
                                                           
                        
                                                            
                        
                                                        
                                                        </td>
                        
                        
                                                        <td>
                                                          
                                                                <input class="caja-numero3" style="width: 60px;"  (change)="calcularIgv()" type="number"
                                                                [(ngModel)]="pro.cantidad" name="txtCantiTable"> 
                                                          
                                                       
                                                           
                                                        </td>
                                                        <td>
                                                          
                                                                 <input class="caja-numero3" (change)="validarPrecio(pro)"
                                                             type="number" [(ngModel)]="pro.precio_venta"
                                                                name="txtPrecioVenta">  
                                                            
                                                          
                                                         
                                                        </td>
                        
                        
                                                        <td class="color6">{{pro.tipo_moneda.simbolo}}{{pro.sub_total}}</td>         
                                                        <td>{{pro.nombre_tipo_producto}}</td>
                                                   </tr>
                                                </tbody>
                                            </table>
                                        </div>
                        
                        
                                    </div>
                                </div>
                        
                        
                        
                            </div>
                        </div>
                        
                    </div>


                    
                    <div id="nuevoKardexMultiple" class="tab-pane fade ">

                        <div class="login-panel panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Registro de Traslados Multiple</h3>
                            </div>
                            <div class="panel-body">

                                <div class="col-md-12 col-xd-2">

                                

                                    <div class="col-md-3 col-xd-2">
                                        <div class="form-group">
                                            <label>Almacen Origen: </label>
                                            <select class="form-control" required [(ngModel)]="localOrigenSelected" name="cbLocales" (ngModelChange)="mostrarAlmacenOrigen(localOrigenSelected)">
                                                <option *ngFor="let lo of locales; let i = index" [ngValue]="lo">{{lo.nombre}} </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-3 col-xd-2">
                                        <div class="form-group">
                                            <label>Modulo Origen: </label>
                                            <select class="form-control" required [(ngModel)]="almacenOrigenSelected" name="cbAlmacenes">
                                                <option *ngFor="let al of almacenesOrigen; let i = index" [ngValue]="al">{{al.nombre}} </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-3 col-xd-2">
                                        <div class="form-group">
                                            <label>Almacen Destino: </label>
                                            <select class="form-control" required [(ngModel)]="localDestinoSelected" name="cbLocales" (ngModelChange)="mostrarAlmacenDestino(localDestinoSelected)">
                                                <option *ngFor="let lo of locales; let i = index" [ngValue]="lo">{{lo.nombre}} </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-3 col-xd-2">
                                        <div class="form-group">
                                            <label>Modulo Destino: </label>
                                            <select class="form-control" required [(ngModel)]="almacenDestinoSelected" name="cbAlmacenes">
                                                <option *ngFor="let al of almacenesDestino; let i = index" [ngValue]="al">{{al.nombre}} </option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-4 col-xd-2">
                                        <div class="form-group">
                                            <label>Adjuntar Archivo:</label>
                                            <!--<input id="archivoFile" type={{tipoFile}} class="form-control" name="txtArchivo"  [(ngModel)]="archivo" >-->
                                            <input type="file" class="form-control" name="txtArchivo" (change)="onChange($event)" multiple>
                                        </div>
                                    </div>

                                    <div class="col-md-3">
                                        <label> Formato Subida Kardex</label>
                                        <button (click)="dowloadFormatoKardex()" class="btn btn-primary btn-block">
                                            <i class="fa fa-save fa-fw ic-dfa"></i>Descargar Formato</button>
                                    </div>
                                </div>

                                <div class="col-md-12">

                                    <div class="col-md-3">
                                        <label> Accion</label>
                                        <button (click)="registrarMultipleObtener()" class="btn btn-primary btn-block">
                                            <i class="fa fa-save fa-fw ic-dfa"></i>Subir Fichero</button>
                                    </div>

                                    <div class="col-md-3">
                                        <label> Accion</label>
                                        <button (click)="limpiar()" class="btn btn-primary btn-block">
                                            <i class="fa fa-trash fa-fw ic-dfa"></i>Limpiar</button>
                                    </div>

                                </div>



                            </div>
                        </div>



                        <!-- <div *ngIf="panelListaBeanSelected" class="login-panel panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Lista de Traslados a Registrar</h3>
                            </div>
                            <div class="panel-body">



                                <div class="row">
                                    <div class="col-md-12">

                                        <div class="row bg-teal tabla-cabecera-botones">
                                            <div class="col-md-12">
                                                <h5>EXISTEN :<span *ngIf="listaKardexSubir!=null" >{{listaKardexSubir.length}}</span> EN TOTAL</h5>
                                            </div>

                                            <div class="col-md-3">
                                                <button (click)="registrarTrasladosConfirmados()" class="btn btn-primary btn-block">
                                                    <i class="fa fa-forward fa-fw ic-dfa"></i>Confirmar Traslados
                                                </button>
                                            </div>
                                            <div class="col-md-5">
                                                <button (click)="eliminarPreSubida()" class="btn btn-primary btn-block">
                                                    <i class="fa fa-trash fa-fw ic-dfa"></i>Eliminar Lista PRE SUBIDA
                                                </button>
                                            </div>
                                        </div>

                                        <div class=" table-responsive tabla-dfa">

                                            <table class="table table-condensed">
                                                <thead>
                                                    <tr class="bg-teal tam-cabecera">
                                                        <th>N°</th>
                                                        <th>ID PRODUCTO</th>
                                                        <th>MARCA</th>
                                                        <th>PRODUCTO</th>
                                                        <th>CANTIDAD</th>
                                                        <th>PRECIO</th>
                                                        <th>PRECIO TOTAL</th>
                                                        <th>MONEDA</th>
                                                        <th>DESCRIPCION</th>
                                                    </tr>
                                                </thead>

                                                <tbody>
                                                    <tr *ngFor="let obj of listaKardexSubir;let j = index" class="bg-cyan tam-cuerpo">
                                                        <td>{{inicio+j}}</td>
                                                        <td>{{obj.id_producto}}</td>
                                                        <td>{{obj.marca}}</td>
                                                        <td>{{obj.producto}}</td>
                                                        <td>{{obj.cantidad}}</td>
                                                        <td>{{obj. precio}}</td>
                                                        <td>{{obj.precio_total}}</td>
                                                        <td>{{obj.moneda}}</td>
                                                        <td>{{obj.descripcion}}</td>



                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>



                            </div>
                        </div> -->



                    </div>
                </div>







                <div *ngIf="panelEditarSelected" class="login-panel panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Editar Kardex</h3>

                    </div>
                    <div class="panel-body">



                        <div class="col-md-2 tabla-cabecera-botones">
                            <button (click)="regresar()" class="btn btn-primary btn-block">
                                <i class="fa fa-reply fa-fw ic-dfa"></i>Regresar
                            </button>
                        </div>

                        <!--
                            <div class="col-md-12 col-xd-2">
                                <div class="form-group">
                                    <label>Id Proveedor: </label>
                                    <input class="form-control" required placeholder="1" type="text" [(ngModel)]="idProveedorSelected" name="txtIdProvee">
                                </div>
                            </div>-->

                        <div class="col-md-12 col-xd-2">
                            <div class="form-group">
                                <label>Nombre: </label>
                                <input class="form-control" required placeholder="SKF" type="text" [(ngModel)]="nombreSelected" name="txtNombre">
                            </div>
                        </div>

                        <div class="col-md-12 col-xd-2">
                            <div class="form-group">
                                <label>Simbolo: </label>
                                <input class="form-control" required placeholder="cm" type="text" [(ngModel)]="simboloSelected" name="txtsimbolo">
                            </div>
                        </div>

                        <div class="col-md-2 col-xd-2">
                            <div class="form-group">
                                <label>Orden Presentacion: </label>
                                <input class="form-control" required placeholder="1" type="number" [(ngModel)]="ordenPresentacionSelected" name="txtOrdenPresentacion">
                            </div>
                        </div>

                        <div class="col-md-5 col-xd-2">
                            <div class="form-group">
                                <label>Observacion: </label>
                                <textarea class="form-control" required placeholder="" type="text" [(ngModel)]="observacionSelected" name="txtObservacion"></textarea>
                            </div>
                        </div>

                        <div class="col-md-2">
                            <label> Accion</label>
                            <button (click)="editar()" class="btn btn-primary btn-block">
                                <i class="fa fa-save fa-fw ic-dfa"></i>Editar</button>
                        </div>



                    </div>
                </div>


            </div>

        </div>





        <button id="modalCatalogoVenta" hidden="hidden" data-toggle="modal" data-target="#modalCatalogoVentaPnl"></button>
        <div class="modal fade" id="modalCatalogoVentaPnl">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button class="close" area-hidden="true" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">
                            <label>DATOS PRODUCTO</label>
                        </h4>
                    </div>

                    <div class="modal-body">

                        <form-catalogo-venta [buttonSelectedActivated]="buttonSelectedActivatedPro" [buttonEliminarActivated]="buttonEliminarActivatedPro"
                            [buttonEditarActivated]="buttonEditarActivatedPro" [panelListaBeanSelected]="panelListaCatalogoVenta" [panelListaVentaBeanSelected]="panelListaCatalogoVentaDerecha"
                            [estiloTablaDerecha]="estiloTablaDerechaCatalogo" [estiloBusquedaCatalogo]="estiloBusquedaCatalogo" [colMd2]="colMd2Catalogo"
                            [colMd4]="colMd4Catalogo" [col1Md2]="col1Md2Catalogo" [campoOculto]="campoOcultoVenta" (productoSeleccionado)="obtenerDatosCatalogoVenta($event)">
                        </form-catalogo-venta>

                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>